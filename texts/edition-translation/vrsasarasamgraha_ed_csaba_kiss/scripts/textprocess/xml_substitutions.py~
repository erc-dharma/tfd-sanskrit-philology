import re

def xml_substitutions(line):
        subdict ={'\\\\msALL': '<ms>∑</ms>',
                '\\\\msNC45': '<ms>N<sub><sup>C</sup>45</sub></ms>',
                '\\\\msNK82': '<ms>N<sub><sup>K</sup>82</sub></ms>',
                '\\\\msNCA12': '<ms>N<sub><sup>C</sup>A12</sub></ms>',
                '\\\\msNK28': '<ms>N<sub><sup>K</sup>28</sub></ms>',
                '\\\\msNKo77': '<ms>N<sub><sup>Ko</sup>77</sub></ms>',
                '\\\\msNKA12': '<ms>N<sub><sup>KA</sup>12</sub></ms>',
                '\\\\msGP74': '<ms>G<sub><sup>P</sup>74</sub></ms>',
                '\\\\msGP43': '<ms>G<sub><sup>P</sup>43</sub></ms>',
                '\\\\msCa': '<ms>C<sub>94</sub></ms>',
                '\\\\msCb': '<ms>C<sub>45</sub></ms>',
                '\\\\msCc': '<ms>C<sub>02</sub></ms>',
                '\\\\mssCaCbCc': '<ms><b>C</b></ms>',
                '\\\\msNa': '<ms>K<sub>82</sub></ms>',
                '\\\\msNb': '<ms>K<sub>10</sub></ms>',
                '\\\\msNc': '<ms>K<sub>07</sub></ms>',
                '\\\\msBod': '<ms>B</ms>',
                '\\\\msL': '<ms>L</ms>',
                '\\\\msA': '<ms>A</ms>',
                '\\\\msB': '<ms>B</ms>',
                '\\\\msC': '<ms>C</ms>',
                '\\\\msD': '<ms>D</ms>',
                '\\\\msE': '<ms>E</ms>',
                '\\\\msF': '<ms>F</ms>',
                '\\\\msP': '<ms>P</ms>',
                '\\\\Ed': '<ms>E</ms>',
                # Dominic's sigla
                '\\\\Cxciv': '<ms>C</ms><sub>44</sub>',
                '\\\\Bvii': '<ms>B</ms><sub>7</sub>',
                '\\\\Tcclxxxi': '<ms>T</ms><sub>281</sub>',
                '\\\\Tcccccx': '<ms>T</ms><sub>510</sub>',
                '\\\\Tlxxv': '<ms>T</ms><sub>75</sub>',
                '\\\\Cxlv': '<ms>T</ms><sub>45</sub>',
                '\\\\Axii': '<ms>A</ms><sub>12</sub>',
                '\\\\Axi': '<ms>A</ms><sub>11</sub>',
                '\\\\Aiii': '<ms>A</ms><sub>3</sub>',
                '\\\\Glxxvii': '<ms>A</ms><sub>77</sub>',
                # Masam sigla
                '\\\\Jall': '<ms>J</ms>',
                '\\\\Jab': '<ms>J<sub>ab</sub></ms>',
                '\\\\Jcd': '<ms>J<sub>cd</sub></ms>',
                '\\\\Jef': '<ms>J<sub>ef</sub></ms>',
                '\\\\Ja': '<ms>J<sub>a</sub></ms>',
                '\\\\Jb': '<ms>J<sub>b</sub></ms>',
                '\\\\Jc': '<ms>J<sub>c</sub></ms>',
                '\\\\Jd': '<ms>J<sub>d</sub></ms>',
                '\\\\Je': '<ms>J<sub>e</sub></ms>',
                '\\\\Jf': '<ms>J<sub>f</sub></ms>',
                '\\\\well': '<ms>W</ms>',
                '\\\\Codd': '<ms>Σ</ms>',
                # 
                '\\\\omits': '<i>omitted in</i>',
                '\\\\om': '<i>omitted in</i>',
                '\\\\eme': '<i>em.</i>',
                '\\\\conj': '<i>conj.</i>',
                '\\\\corr': '<i>corr.</i>',
                '\\\\skt': '',
                '\\\\vab': '',
                '\\\\vcd': '',
                '\\\\vef': '',
                '\\\\va': '',
                '\\\\vb': '',
                '\\\\vc': '',
                '\\\\ve': '',
                '\\\\vf': '',
                'acorr': '<corr>ac</corr>',
                'pcorr': '<corr>pc</corr>',
                '\\\\-': '',
                '\\\\oo': " •", 
                '\\\\uncl': "",
                '\\\\kb': "≈",
                '¤': "*",
                '\\\\unmetrical': "(<i>unmetrical</i>)",
                '\\\\unmetr': "(<i>unmetrical</i>)",
                '\\\\cancelled': "(<i>cancelled</i>)",
                '\\\\toplost': "(<i>top of akṣaras lost</i>)",
                '\\\\thinspace ': "&thinsp;",
                '\\Ł': '<SKT>', 
                '\\$': '</SKT>',
                '<UNCL>': '≀',
                '</UNCL>': '≀',
                '<MNTR>': '<b>',
                '<crux>': '†',
                '</crux>': '†',
                '<EYESKIP>': '(<i>eyeskip ',
                '</EYESKIP>': '</i>)',
                '{-}': '-',
                '--': '–',
                'Ó': 'oṃ',
                '\\\\': '', 
                '{': '', 
                '}': '',
                '<sep/>': '<br/><br/>'
                } 
        for c in subdict:
            line = re.sub(c, subdict[c], line)
        return line


